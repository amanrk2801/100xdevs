<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Interest Calculator</title>
  </head>
  <body>
    <!-- https://sum-server.100xdevs.com/interest?principal=100&rate=5&time=2 use this backend and calculate -->

    <h1>Interest Calculator</h1>
    <h2>Enter Principal, Rate and Time</h2>
    <form id="interestForm">
      <label for="principal">Principal:</label>
      <input id="principal" type="number" placeholder="Enter principal" />
      <label for="rate">Rate:</label>
      <input id="rate" type="number" placeholder="Enter rate" />
      <label for="time">Time:</label>
      <input id="time" type="number" placeholder="Enter time" />
      <button type="button" onclick="getInterest()">Get Interest</button>
      <p id="result"></p>
    </form>

    <script>
      async function getInterest() {
        try {
          const amount = document.getElementById("principal").value;
          const rate = document.getElementById("rate").value;
          const time = document.getElementById("time").value;
          const element = document.getElementById("result");
          const response = await fetch(
            `https://sum-server.100xdevs.com/interest?principal=${amount}&rate=${rate}&time=${time}`
          );
          if (!response.ok) {
            throw new Error('Network response was not ok.');
          }
          const data = await response.text();
          element.innerHTML = `Principal: ${amount}, Rate: ${rate}, Time: ${time} = ${data}`;
        } catch (error) {
          console.error('Error:', error);
          const element = document.getElementById("result");
          element.innerHTML = 'An error occurred. Please try again later.';
        }
      }

      document.getElementById("interestForm").addEventListener("submit", function(event) {
        event.preventDefault(); // Prevent default form submission
        getInterest(); // Call getInterest() function when form is submitted
      });
    </script>
  </body>
</html>
